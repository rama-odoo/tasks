<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="action_eorkcenter" model="base.automation">
        <field name="name">Onchange Sale Order lines</field>
        <field name="model_id" ref="mrp.model_mrp_workcenter"/>
        <field name="trigger">on_write</field>
        <field name="state">code</field>
        <field name="code">
date_order = record.order_id.date_order.date()
for line in record:
    if record.x_schedule_lead_date and date_order:
        lead_day = record.x_schedule_lead_date - date_order
        record['customer_lead'] = lead_day.days if lead_day.days else 0
    else:
        record['customer_lead'] = 0

        </field>
    </record>

    <record id="action_eorkcenter" model="base.automation">
        <field name="name">Onchange Sale Order</field>
        <field name="model_id" ref="mrp.model_mrp_workcenter"/>
        <field name="trigger">on_write</field>
        <field name="state">code</field>
        <field name="code">
date_order = record.date_order.date()
for line in record.order_line:
    if line.x_schedule_lead_date:
        lead_day = line.x_schedule_lead_date - date_order
        line['customer_lead'] = lead_day.days if lead_day.days else 0
    else:
         line['customer_lead'] = 0
        </field>
        </record>


</odoo>