<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="sale_order_inherit_template" inherit_id="sale.report_saleorder_document">
        <xpath expr="//table[hasclass('table','table-sm','o_main_table')]" position="before">
            <strong>Enquiry Referens No:</strong>
            <p t-field="doc.enquiry"/>

            <div class="text-right">
                <br>
                    <strong>Thank You</strong>
                </br>
                <br>
                    <strong>Your Faithfully</strong>
                </br>
                <br>
                    <p class="m-0" t-field="doc.user_id"/>
                </br>
            </div>
            <p style="page-break-before: always;"></p>
        </xpath>
        <!-- This code is create a saleperson name ,email & phone number-->
        <xpath expr="//div[@id='informations']/div[5]" position="inside">
            <div t-field="doc.user_id" t-options='{"widget": "contact", "fields": ["email","phone"], "no_marker": True}' />
        </xpath>

        <!--This code is add invoicing and delivery address-->
        <xpath expr="//div[hasclass('page')]" position="before">
            <t t-esc="doc.company_id.account_fiscal_country_id.vat_label or 'Tax ID'"/>
:            <span t-field="doc.partner_id.vat"/>

        </xpath>

        <xpath expr="//div[@id='informations']/div[4]" position="replace">
            <div t-if="doc.validity_date and doc.state in ['draft', 'sent']" class="col-auto col-3 mw-100 mb-2" name="expiration_date">
                <strong>Quotation Expiry Date :</strong>
                <p class="m-0" t-field="doc.validity_date"/>
            </div>
        </xpath>

        <xpath expr="//div[@id='informations']/div[3]" position="replace">
            <div>
                <strong>Quotation Create Date :</strong>
                <p class="m-0" t-field="doc.date_order"/>
            </div>

        </xpath>

        <xpath expr="//div[@id='informations']" position="after">
            <div class="offset-8 text-center">
                <strong>Special Remark if any :</strong>
                <p t-field="doc.mark"/>

            </div>
        </xpath>

        <!--ADD new page in report product in table-->
        <xpath expr="//table[hasclass('table', 'table-sm' ,'o_main_table')]/thead/tr/th[@name='th_description']" position="before">
            <th name="th_sr_no" class="text-left">Sr.No</th>
            <th name="th_model_num" class="text-left">Model No</th>
            <th name="th_product_id" class="text-left">Product Name</th>
        </xpath>

        <xpath expr="//table[hasclass('table', 'table-sm' ,'o_main_table')] //th[@name='th_taxes']" position="after">
            <th name="th_price_total" class="text-left">Net Total</th>
        </xpath>
        <xpath expr="//tbody[hasclass('sale_tbody')]//td[@name='td_subtotal']" position="before">
            <td name="td_price_total" class="text-left">
                <span t-field="line.price_total"/>
            </td>
        </xpath>

        <xpath expr="//tbody[hasclass('sale_tbody')]//td[@name='td_name']" position="before">
            <td name="td_sr_no" class="text-left">
                <span t-field="line.sr_no"/>
            </td>
            <td name="td_model_num" class="text-left">
                <span t-field="line.model_num"/>
            </td>
            <td name="td_product_id" class="text-left">
                <span t-field="line.product_id"/>
            </td>
        </xpath>

        <xpath expr="//table[hasclass('table', 'table-sm' ,'o_main_table')]" position="after">
            <th name="th_text_amount" class="text-left">
                <b>Total Amount In Words :</b>
            </th>
        </xpath>
        <xpath expr="//div[hasclass('clearfix')]" position="before">
            <td name="td_text_amount" class="text-left">
                <p t-field="doc.text_amount"/>
            </td>
        </xpath>

        <!--Add product details in report-->
        <xpath expr="//div[hasclass('clearfix')]" position="after">
            <p style="page-break-before: always;"></p>
            <strong>
                <h1>Product Details  ::</h1>
            </strong>
            <table style="width:100%;">
                <tr>
                    <th name="th_sr_no" class="text-left">Sr.No</th>
                    <th name="th_product_id" class="text-left">Product Name</th>
                    <th name="th_description" class="text-left">Description</th>
                    <th name="th_quantity" class="text-right">Quantity</th>
                </tr>
                <tr>
                    <td name="td_sr_no" class="text-left">
                        <span t-field="line.sr_no"/>
                    </td>
                    <td name="td_product_id" class="text-left">
                        <span t-field="line.product_id"/>
                    </td>
                    <td name="td_name">
                        <span t-field="line.name"/>
                    </td>
                    <td name="td_quantity" class="text-right">
                        <span t-field="line.product_uom_qty"/>
                        <span t-field="line.product_uom"/>
                    </td>
                </tr>
            </table>
        </xpath>

        <xpath expr="//div[hasclass('clearfix')]" position="after">
            <p style="page-break-before: always;"></p>
            <p t-field="doc.note" />
            <p t-if="not is_html_empty(doc.payment_term_id.note)">
                <span t-field="doc.payment_term_id.note"/>
            </p>
            
            <p t-if="not is_html_empty(doc.term_id.note)">
                <span t-field="doc.term_id.note"/>
            </p>

            <p t-if="not is_html_empty(doc.general_id.note)">
                <span t-field="doc.general_id.note"/>
            </p>
            
        </xpath>

    </template>
</odoo>